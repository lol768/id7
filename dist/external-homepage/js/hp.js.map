{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/change-location-hash.js","webpack:///./js/external-homepage/homepage-carousel.jquery.js","webpack:///./js/external-homepage/hp.js","webpack:///./js/external-homepage/more-links-popover.jquery.js","webpack:///./node_modules/panelsnap/lib/panelsnap.umd.js","webpack:///external \"jQuery\"","webpack:///external \"_\"","webpack:///external \"Modernizr\""],"names":["changeLocationHash","hash","window","history","replaceState","location","Config","PanelsCSSTemplate","o","_","escape","colour_r","colour_g","colour_b","colour","NavCSSTemplate","map","panels","panel","id","lighter_colour","join","Defaults","menu","logo","menuSelector","animation","length","easing","defaultImageFocalPoint","defaultImageScaling","showFullpageImageCarouselTest","Modernizr","mq","flexbox","rgbToHsl","red","green","blue","r","g","b","max","Math","min","h","s","l","d","Error","hue","saturation","lightness","hue2rgb","p","q","rawT","t","hslToRgb","HomepageCarousel","options","$","extend","$container","container","applyPanelStyles","find","first","data","onScreenResize","wireEventHandlers","on","proxy","onLoad","e","document","body","disable","enable","isOnLoad","lastIsDesktop","isDesktop","initPanelSnap","initMenu","initBackgroundImages","initIframes","initBackgroundColours","initHashChangeListener","initCaptionIcons","initScrollWatcher","resizeIframes","panelSnap","PanelSnap","get","panelSelector","duration","onChangePanel","onChangePanelComplete","snapToPanel","$target","attr","stopPropagation","preventDefault","setTimeout","scrollTop","offset","top","$menu","$logo","off","scrollspy","target","smoothScrollToTarget","animate","is","$navStyles","panelColours","each","collatePanelColours","componentToHex","c","hex","round","toString","rgbToHex","$panel","parseInt","substring","hsl","lighterRGB","push","text","setBackgroundColour","css","$content","setPanelBackground","position","scaling","embedVideo","prepend","addClass","append","src","frameborder","prop","remove","resizeIframe","panelWidth","width","panelHeight","height","aspectRatio","targetAspectRatio","ceil","initCaptionIcon","$caption","$icon","alt","$iconLink","cloneNode","fixedHeight","outerHeight","scrollY","beforeScroll","filter","isAboveScroll","offsetY","last","hashChanged","scrollBy","fn","homepageCarousel","initPlugin","attach","i","element","template","trim","MoreLinksPopover","$trigger","trigger","popover","content","html","placement","title","closest","moreLinksPopover","n","module","exports","enumerable","configurable","writable","Object","defineProperty","key","value","Array","isArray","Symbol","iterator","prototype","call","from","TypeError","arguments","ease","_defaultEase","start","end","frame","next","isRunning","events","direction","requestAnimationFrame","_tick","bind","cancelAnimationFrame","timeStart","forEach","timeElapsed","_shouldTick","emit","up","down","scrollingElement","navigator","userAgent","indexOf","documentElement","left","bottom","innerHeight","right","innerWidth","getBoundingClientRect","a","addEventListener","removeEventListener","directionThreshold","delay","keys","getOwnPropertySymbols","concat","getOwnPropertyDescriptor","dataset","panelsnapId","scrollContainer","scrollEventContainer","instanceIndex","panelList","querySelectorAll","isEnabled","isInteracting","scrollTimeout","resetAnimation","onInteractStart","passive","onInteractStop","onScroll","onInteract","findSnapTarget","u","f","activePanel","stopAnimation","clearTimeout","currentScrollOffset","scrollLeft","abs","console","error","activatePanel","stop","targetScrollOffset","animationTick","begin"],"mappings":"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","file":"external-homepage/js/hp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/external-homepage/hp.js\");\n","/* eslint-env browser */\nexport default function changeLocationHash(hash) {\n  if ('replaceState' in window.history) {\n    window.history.replaceState({}, null, hash);\n  } else {\n    window.location.hash = hash;\n  }\n}\n","/* eslint-env browser */\nimport $ from 'jquery';\nimport Modernizr from 'modernizr';\nimport _ from 'lodash-es';\nimport PanelSnap from 'panelsnap';\n\nimport changeLocationHash from '../change-location-hash';\n\nconst Config = {\n  /**\n   * @return {string}\n   */\n  PanelsCSSTemplate(o) {\n    return `body .id7-masthead .id7-search .fa {color: rgba(${_.escape(o.colour_r)}, ${_.escape(o.colour_g)}, ${_.escape(o.colour_b)}, 0.5);}\n      body .id7-masthead .id7-search .twitter-typeahead:hover + .fa {color: ${_.escape(o.colour)};}\n      body .id7-masthead .id7-search .twitter-typeahead .tt-suggestion.tt-cursor {background: ${_.escape(o.colour)};}\n      body .form-control:focus {border-color: ${_.escape(o.colour)}; -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(${_.escape(o.colour_r)}, ${_.escape(o.colour_g)}, ${_.escape(o.colour_b)}, 0.6); box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(${_.escape(o.colour_r)}, ${_.escape(o.colour_g)}, ${_.escape(o.colour_b)}, 0.6);}\n      .id7-page-header {background: ${_.escape(o.colour)};}\n      .id7-masthead .id7-logo-row nav {opacity: 1; filter: alpha(opacity=100);}\n      .id7-masthead .id7-logo-row nav a {color: ${_.escape(o.colour)} !important;}`;\n  },\n  /**\n   * @return {string}\n   */\n  NavCSSTemplate(o) {\n    return _.map(o.panels, panel => `.carousel-nav a[href=\"#${_.escape(panel.id)}\"]:hover, .carousel-nav li.active a[href=\"#${_.escape(panel.id)}\"] {color: ${_.escape(panel.lighter_colour)};}`).join('');\n  },\n  Defaults: {\n    menu: '.carousel-nav',\n    logo: '.id7-logo a',\n    panels: '.jumbotron-carousel > article',\n    menuSelector: 'a',\n    animation: {\n      length: 300,\n      easing: 'swing',\n    },\n    defaultImageFocalPoint: 'center center',\n    defaultImageScaling: 'cover',\n    showFullpageImageCarouselTest() {\n      // As per ID-94, if a browser can't do Flexbox (and therefore can't do panel layouts),\n      // serve the mobile hp\n      return Modernizr.mq('only all and (min-width: 768px)') && Modernizr.flexbox;\n    },\n  },\n};\n\n/**\n * Converts an RGB color value to HSL. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes r, g, and b are contained in the set [0, 255] and\n * returns h, s, and l in the set [0, 1].\n *\n * @param   red: number       The red color value\n * @param   green: number       The green color value\n * @param   blue: number       The blue color value\n * @return  {saturation: number, lightness: number, hue: number}   The HSL representation\n */\nfunction rgbToHsl(red, green, blue) {\n  const r = red / 255;\n  const g = green / 255;\n  const b = blue / 255;\n\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n\n  let h;\n  let s;\n  const l = (max + min) / 2;\n\n  if (max === min) {\n    h = 0;\n    s = 0; // achromatic\n  } else {\n    const d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n      case g: h = (b - r) / d + 2; break;\n      case b: h = (r - g) / d + 4; break;\n      default: throw new Error();\n    }\n    h /= 6;\n  }\n\n  return {\n    hue: h,\n    saturation: s,\n    lightness: l,\n  };\n}\n\nfunction hue2rgb(p, q, rawT) {\n  let t = rawT;\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\n/**\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n *\n * @param   h: number       The hue\n * @param   s: number       The saturation\n * @param   l: number       The lightness\n * @return  {red: number, green: number, blue: number}           The RGB representation\n */\nfunction hslToRgb(h, s, l) {\n  let r;\n  let g;\n  let b;\n\n  if (s === 0) {\n    r = l;\n    g = l;\n    b = l; // achromatic\n  } else {\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    const p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return {\n    red: r * 255,\n    green: g * 255,\n    blue: b * 255,\n  };\n}\n\n/**\n * Display a megamenu popover\n */\nclass HomepageCarousel {\n  constructor(options) {\n    const o = $.extend({}, Config.Defaults, options);\n    this.$container = o.container;\n    this.options = o;\n\n    // Apply the colour from the first panel - on mobile, this is the only one ever applied\n    HomepageCarousel.applyPanelStyles(this.$container.find(`${this.options.panels}[data-colour]`).first().data('colour'));\n    this.onScreenResize();\n    this.wireEventHandlers();\n  }\n\n  wireEventHandlers() {\n    $(window).on('resize.id7.homepage', $.proxy(this.onScreenResize, this));\n\n    // ID-30 on load (i.e. after fonts have loaded) run this, forcing a resize\n    $(window).on('load', $.proxy(function onLoad(e) {\n      this.onScreenResize(e, true);\n    }, this));\n\n    const { $container } = this;\n\n    // When popovers are open, disable the panel snap\n    $(document.body)\n      .on('shown.bs.popover', () => {\n        if ($container.data('panelSnap')) {\n          $container.data('panelSnap').disable();\n        }\n      })\n      .on('hidden.bs.popover', () => {\n        if ($container.data('panelSnap')) {\n          $container.data('panelSnap').enable();\n        }\n      });\n  }\n\n  onScreenResize() {\n    const isOnLoad = (typeof this.lastIsDesktop === 'undefined');\n\n    // Which stop-point are we on?\n    const isDesktop = this.options.showFullpageImageCarouselTest();\n\n    // Don't re-init if we're not transitioning\n    if (isDesktop !== this.lastIsDesktop) {\n      this.initPanelSnap(isOnLoad, isDesktop);\n      this.initMenu(isOnLoad, isDesktop);\n      this.initBackgroundImages(isOnLoad, isDesktop);\n      this.initIframes(isOnLoad, isDesktop);\n      this.initBackgroundColours(isOnLoad, isDesktop);\n      HomepageCarousel.initHashChangeListener(isOnLoad, isDesktop);\n      this.initCaptionIcons(isOnLoad, isDesktop);\n      this.initScrollWatcher(isOnLoad, isDesktop);\n\n      this.lastIsDesktop = isDesktop;\n    }\n\n    // Warning: be careful about what events you're looking for here\n    this.resizeIframes(isOnLoad, isDesktop);\n  }\n\n  initPanelSnap(isOnLoad, isDesktop) {\n    const { $container, options } = this;\n\n    if ($container.data('panelSnap')) {\n      if (isDesktop) {\n        $container.data('panelSnap').enable();\n      } else {\n        $container.data('panelSnap').disable();\n      }\n    } else if (isDesktop) {\n      // First time init\n      const panelSnap = new PanelSnap({\n        container: $container.get()[0],\n        panelSelector: options.panels,\n        duration: options.animation.length,\n        easing: options.animation.easing,\n      });\n\n      panelSnap.on('activatePanel', HomepageCarousel.onChangePanel);\n      panelSnap.on('snapStart', HomepageCarousel.onChangePanel);\n      panelSnap.on('snapStop', HomepageCarousel.onChangePanelComplete);\n\n      $container.data('panelSnap', panelSnap);\n\n      $(options.menu).on('click', options.menuSelector, function snapToPanel(e) {\n        const $target = $($(this).attr('href'));\n        if ($target.length) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          panelSnap.snapToPanel($target.get()[0]);\n        }\n      });\n    }\n\n    // Scroll to right panel on page load\n    if (isDesktop\n      && isOnLoad\n      && window.location.hash.length > 0\n      && $container.find(options.panels + window.location.hash).length\n    ) {\n      setTimeout(() => $('html, body').scrollTop($(window.location.hash).offset().top), 100);\n    }\n  }\n\n  initMenu(isOnLoad, isDesktop) {\n    const { $container, options } = this;\n\n    const $menu = $container.find(options.menu);\n    const $logo = $(options.logo);\n\n    $menu.find('a[href^=\"#\"]').off('click.id7.homepage');\n    $logo.off('click.id7.homepage');\n\n    // Link the logo to the first item in the menu\n    $logo.attr('href', $menu.find('a[href^=\"#\"]').first().attr('href'));\n\n    if (isDesktop) {\n      $container.scrollspy({ target: options.menu }); // Idempotent, safe to call multiple times\n\n      const smoothScrollToTarget = function smoothScrollToTarget(e) {\n        // prevent default anchor click behavior\n        e.preventDefault();\n\n        // store hash\n        const { hash } = this;\n        HomepageCarousel.onChangePanel($(hash));\n\n        // animate\n        $('html, body').animate({\n          scrollTop: $(hash).offset().top,\n        }, options.animation.length, () => {\n          if (!$('.megamenu-links.popover').is(':visible')) {\n            changeLocationHash(hash);\n          }\n        });\n      };\n\n      $menu.find('a[href^=\"#\"]').on('click.id7.homepage', smoothScrollToTarget);\n      $logo.on('click.id7.homepage', smoothScrollToTarget);\n\n      const $navStyles = $('#homepage-style-rules-nav');\n\n      if ($navStyles.is(':empty')) {\n        const panelColours = [];\n        $container.find(`${options.panels}[id][data-colour]`).each(function collatePanelColours() {\n          function componentToHex(c) {\n            const hex = Math.round(c).toString(16);\n            return hex.length === 1 ? `0${hex}` : hex;\n          }\n\n          function rgbToHex(r, g, b) {\n            return `#${componentToHex(r)}${componentToHex(g)}${componentToHex(b)}`;\n          }\n\n          const $panel = $(this);\n          const id = $panel.attr('id');\n          const colour = $panel.data('colour');\n\n          const r = parseInt(colour.substring(1, 3), 16);\n          const g = parseInt(colour.substring(3, 5), 16);\n          const b = parseInt(colour.substring(5, 7), 16);\n\n          const hsl = rgbToHsl(r, g, b);\n          const lighterRGB = hslToRgb(hsl.hue, hsl.saturation, 0.9);\n\n          panelColours.push({\n            id,\n            colour,\n            lighter_colour: rgbToHex(lighterRGB.red, lighterRGB.green, lighterRGB.blue),\n            colour_r: parseInt(colour.substring(1, 3), 16),\n            colour_g: parseInt(colour.substring(3, 5), 16),\n            colour_b: parseInt(colour.substring(5, 7), 16),\n          });\n        });\n\n        $navStyles.text(Config.NavCSSTemplate({\n          panels: panelColours,\n        }));\n      }\n    }\n  }\n\n  initBackgroundColours(isOnLoad, isDesktop) {\n    const { $container } = this;\n\n    // Init background colours\n    $container.find('[data-colour]').each(function setBackgroundColour() {\n      const $panel = $(this);\n      const colour = $panel.data('colour');\n      const red = parseInt(colour.substring(1, 3), 16);\n      const green = parseInt(colour.substring(3, 5), 16);\n      const blue = parseInt(colour.substring(5, 7), 16);\n\n      $panel.css('background-color', colour);\n      const $content = $panel.find('.caption-content');\n      $content.css('background-color', colour);\n\n      if (isDesktop) {\n        $content.css('background-color', `rgba(${red}, ${green}, ${blue}, 0.9)`);\n      }\n    });\n  }\n\n  initBackgroundImages(isOnLoad, isDesktop) {\n    const { $container, options } = this;\n\n    // Background images\n    if (isDesktop) {\n      $container.find('[data-image]').each(function setPanelBackground() {\n        const $panel = $(this);\n\n        $panel.css('background-image', `url(${$panel.data('image')})`);\n\n        const position = $panel.data('image-focal-point') || options.defaultImageFocalPoint;\n        $panel.css('background-position', position);\n\n        const scaling = $panel.data('image-scaling') || options.defaultImageScaling;\n        $panel.css('background-size', scaling);\n      });\n    } else {\n      $container.find('[data-image]').css({\n        'background-image': '',\n        'background-position': '',\n        'background-size': '',\n      });\n    }\n  }\n\n  initIframes(isOnLoad, isDesktop) {\n    const { $container } = this;\n\n    // Embedded content (mostly video)\n    if (isDesktop) {\n      $container.find('[data-iframe]').each(function embedVideo() {\n        const $panel = $(this);\n\n        if ($panel.find('> .iframe-container').length) return;\n\n        $panel.prepend(\n          $('<div />').addClass('iframe-container').append(\n            $('<iframe />')\n              .attr({\n                src: $panel.data('iframe'),\n                frameborder: 0,\n              })\n              .prop('allowfullscreen', true),\n          ),\n        );\n      });\n    } else {\n      $container.find('[data-iframe]').find('> .iframe-container').remove();\n    }\n  }\n\n  resizeIframes(isOnLoad, isDesktop) {\n    const { $container } = this;\n\n    if (isDesktop) {\n      $container.find('[data-iframe]').each(function resizeIframe() {\n        const $panel = $(this);\n        const panelWidth = $panel.width();\n        const panelHeight = $panel.height();\n\n        const aspectRatio = panelWidth / panelHeight;\n        const targetAspectRatio = 1920 / 1080;\n\n        let width;\n        let height;\n        if (aspectRatio > targetAspectRatio) {\n          width = panelWidth;\n          height = Math.ceil(panelWidth / targetAspectRatio);\n        } else {\n          height = panelHeight;\n          width = Math.ceil(panelHeight * targetAspectRatio);\n        }\n\n        $panel.find('> .iframe-container > iframe').attr({ width, height });\n      });\n    }\n  }\n\n  initCaptionIcons(isOnLoad, isDesktop) {\n    const { $container } = this;\n\n    if (!isDesktop) {\n      $container.find('[data-icon]').each(function initCaptionIcon() {\n        const $caption = $(this);\n\n        const $target = $caption;\n\n        const $icon = $('<img />').addClass('caption-icon').attr({\n          alt: $caption.find('h2').first().text(),\n          src: $caption.data('icon'),\n        });\n\n        if ($caption.find('a').length > 0) {\n          // Shallow clone\n          const $iconLink = $($caption.find('a')[0].cloneNode(false)).addClass('caption-icon-link');\n          $target.prepend($iconLink.append($icon));\n        } else {\n          $target.prepend($icon);\n        }\n      });\n    } else {\n      $container.find('[data-icon] .caption-icon-link').remove();\n      $container.find('[data-icon] .caption-icon').remove();\n    }\n  }\n\n  static initHashChangeListener(isOnLoad, isDesktop) {\n    // Handle in-page bookmarks.\n    if (isOnLoad && !isDesktop && window.location.hash) HomepageCarousel.hashChanged();\n    $(window).off('hashchange.id7.homepage');\n\n    if (!Modernizr.mq('only all and (min-width: 768px)')) {\n      $(window).on('hashchange.id7.homepage', HomepageCarousel.hashChanged);\n    }\n  }\n\n  static hashChanged() {\n    const scrollY = $('.id7-page-header').outerHeight();\n    setTimeout(() => window.scrollBy(0, -scrollY), 1);\n  }\n\n  initScrollWatcher(isOnLoad, isDesktop) {\n    $(window).off('scrollstop.id7.homepage');\n\n    if (!isDesktop) {\n      const { $container, options } = this;\n\n      const fixedHeight = $('.id7-page-header').outerHeight();\n\n      $(window).on('scrollstop.id7.homepage', () => {\n        const scrollY = fixedHeight + $(window).scrollTop();\n\n        const beforeScroll = $container.find(`${options.panels}[data-colour]:visible`).filter(function isAboveScroll() {\n          const $panel = $(this);\n          const offsetY = $panel.offset().top;\n\n          return offsetY <= scrollY;\n        });\n\n        if (beforeScroll.length === $container.find(`${options.panels}[data-colour]:visible`).length) {\n          // We've scrolled past all of them, use Warwick Aubergine\n          HomepageCarousel.applyPanelStyles('#5b3069');\n        } else {\n          const $panel = (beforeScroll.length > 0) ? beforeScroll.last() : $container.find(`${options.panels}[data-colour]:visible`).first();\n          HomepageCarousel.onChangePanel($panel);\n        }\n      });\n    }\n  }\n\n  static onChangePanel(panel) {\n    HomepageCarousel.applyPanelStyles($(panel).data('colour'));\n  }\n\n  static applyPanelStyles(colour) {\n    if (!colour) return;\n\n    const r = parseInt(colour.substring(1, 3), 16);\n    const g = parseInt(colour.substring(3, 5), 16);\n    const b = parseInt(colour.substring(5, 7), 16);\n\n    try {\n      $('#homepage-style-rules-panels').text(Config.PanelsCSSTemplate({\n        colour,\n        // brighter_colour: rgbToHex(r_brighter, g_brighter, b_brighter),\n        colour_r: r,\n        colour_g: g,\n        colour_b: b,\n      }));\n    } catch (e) {\n      // This fails on IE8. Just accept the default colours\n    }\n  }\n\n  static onChangePanelComplete(panel) {\n    // when done, add hash to url\n    // (default click behaviour)\n    // Only if the more links popover is not open\n    if (!$('.megamenu-links.popover').is(':visible')) {\n      changeLocationHash(`#${$(panel).attr('id')}`);\n    }\n  }\n}\n\n$.fn.homepageCarousel = function initPlugin(o = {}) {\n  function attach(i, element) {\n    const $container = $(element);\n    const homepageCarousel = new HomepageCarousel($.extend({}, $container.data(), o, {\n      container: $container,\n    }));\n\n    $container.data('id7.homepage-carousel', homepageCarousel);\n  }\n\n  return this.each(attach);\n};\n\n$(() => $('body').homepageCarousel());\n","/* eslint-env browser */\n\nimport './homepage-carousel.jquery';\nimport './more-links-popover.jquery';\n","/* eslint-env browser */\nimport $ from 'jquery';\nimport Modernizr from 'modernizr';\n\nimport changeLocationHash from '../change-location-hash';\n\nconst Config = {\n  Defaults: {\n    container: 'body', // Needed to avoid being drawn under the nav carousel which is fixed in the body\n    template: `\n      <div class=\"popover megamenu-links\">\n        <div class=\"arrow\"></div>\n        <div class=\"popover-inner\">\n          <div class=\"popover-content container-fluid\"></div>\n        </div>\n      </div>`.trim(),\n  },\n};\n\n/**\n * Display a megamenu popover\n */\nclass MoreLinksPopover {\n  constructor(options) {\n    const o = $.extend({}, Config.Defaults, options);\n    this.$trigger = o.trigger;\n    this.options = o;\n\n    this.wireEventHandlers();\n  }\n\n  wireEventHandlers() {\n    const { $trigger, options } = this;\n\n    $trigger.on('click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      return false;\n    }).popover({\n      container: options.container,\n      content: $(options.target).find('> .container').html(),\n      template: options.template,\n      html: true,\n      placement: 'bottom',\n      title: 'More links',\n      trigger: 'click',\n    }).on('show.bs.popover', () => {\n      $trigger.data('previous-hash', window.location.hash);\n      changeLocationHash(options.target);\n    }).on('hide.bs.popover', () => {\n      if ($('.popover.megamenu-links').is(':visible')) {\n        if ($trigger.data('previous-hash') && $trigger.data('previous-hash') !== '#more-links') {\n          changeLocationHash($trigger.data('previous-hash'));\n        } else {\n          // Set us back to the first panel\n          changeLocationHash(`#${$('.jumbotron-carousel > article[id]:visible').first().attr('id')}`);\n        }\n      }\n    });\n\n    if ($trigger.is(':visible') && window.location.hash === options.target) {\n      $trigger.popover('show');\n    }\n\n    // Click away to dismiss\n    $('html').on('click.popoverDismiss', (e) => {\n      // if clicking anywhere other than the popover itself\n      if ($(e.target).closest('.popover').length === 0 && $(e.target).closest('.use-popover').length === 0) {\n        $trigger.popover('hide');\n      }\n    });\n  }\n}\n\n$.fn.moreLinksPopover = function initPlugin(o = {}) {\n  function attach(i, element) {\n    const $trigger = $(element);\n    const moreLinksPopover = new MoreLinksPopover($.extend({}, $trigger.data(), o, {\n      trigger: $trigger,\n    }));\n\n    $trigger.data('id7.more-links-popover', moreLinksPopover);\n  }\n\n  return this.each(attach);\n};\n\n$(() => {\n  if (Modernizr.flexbox) {\n    $('[data-toggle=\"id7:megamenu-popover\"]').moreLinksPopover();\n  }\n});\n","/**\n * PanelSnap.js v1.2.1\n * Copyright (c) 2013-present, Guido Bouman\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.PanelSnap=n()}(this,function(){\"use strict\";function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function e(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var o=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.duration=n.duration||1e3,this.ease=n.easing||this._defaultEase,this.start=n.start,this.end=n.end,this.frame=null,this.next=null,this.isRunning=!1,this.events={},this.direction=this.start<this.end?\"up\":\"down\"}return i(t,[{key:\"begin\",value:function(){return this.isRunning||this.next===this.end||(this.frame=window.requestAnimationFrame(this._tick.bind(this))),this}},{key:\"stop\",value:function(){return window.cancelAnimationFrame(this.frame),this.isRunning=!1,this.frame=null,this.timeStart=null,this.next=null,this}},{key:\"on\",value:function(t,n){return this.events[t]=this.events[t]||[],this.events[t].push(n),this}},{key:\"emit\",value:function(t,n){var e=this,i=this.events[t];i&&i.forEach(function(t){return t.call(e,n)})}},{key:\"_tick\",value:function(t){this.isRunning=!0;var n=this.next||this.start;this.timeStart||(this.timeStart=t),this.timeElapsed=t-this.timeStart,this.next=Math.round(this.ease(this.timeElapsed,this.start,this.end-this.start,this.duration)),this._shouldTick(n)?(this.emit(\"tick\",this.next),this.frame=window.requestAnimationFrame(this._tick.bind(this))):(this.emit(\"tick\",this.end),this.emit(\"done\",null))}},{key:\"_shouldTick\",value:function(t){return{up:this.next<this.end&&t<=this.next,down:this.next>this.end&&t>=this.next}[this.direction]}},{key:\"_defaultEase\",value:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t+n:-e/2*(--t*(t-2)-1)+n}}]),t}();function s(t){return t!==document.body?t:\"scrollingElement\"in document?document.scrollingElement:navigator.userAgent.indexOf(\"WebKit\")>-1?document.body:document.documentElement}function r(t){return t===document.body?{top:0,left:0,bottom:window.innerHeight,right:window.innerWidth,height:window.innerHeight,width:window.innerWidth}:t.getBoundingClientRect()}var a=function(){var t=!1;try{var n=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"test\",null,n),window.removeEventListener(\"test\",null,n)}catch(t){}return t}(),l=0,h={container:document.body,panelSelector:\"> section\",directionThreshold:50,delay:0,duration:300,easing:function(t){return t}};return function(){function i(t){if(function(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,i),this.options=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},o=Object.keys(i);\"function\"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),o.forEach(function(e){n(t,e,i[e])})}return t}({},h,t),this.options.container.dataset.panelsnapId)throw new Error(\"PanelSnap is already initialised on this container, aborting.\");var e;this.container=this.options.container,this.scrollContainer=s(this.container),this.scrollEventContainer=(e=this.container)===document.body?window:s(e),l+=1,this.instanceIndex=l,this.container.dataset.panelsnapId=this.instanceIndex;var o='[data-panelsnap-id=\"'.concat(this.instanceIndex,'\"] ').concat(this.options.panelSelector);this.panelList=Array.from(document.querySelectorAll(o)),this.events=[],this.isEnabled=!0,this.isInteracting=!1,this.scrollTimeout=null,this.resetAnimation(),this.scrollEventContainer.addEventListener(\"keydown\",this.onInteractStart.bind(this),a&&{passive:!0}),this.scrollEventContainer.addEventListener(\"keyup\",this.onInteractStop.bind(this),a&&{passive:!0}),this.scrollEventContainer.addEventListener(\"mousedown\",this.onInteractStart.bind(this),a&&{passive:!0}),this.scrollEventContainer.addEventListener(\"mouseup\",this.onInteractStop.bind(this),a&&{passive:!0}),this.scrollEventContainer.addEventListener(\"touchstart\",this.onInteractStart.bind(this),a&&{passive:!0}),this.scrollEventContainer.addEventListener(\"touchend\",this.onInteractStop.bind(this),a&&{passive:!0}),this.scrollEventContainer.addEventListener(\"scroll\",this.onScroll.bind(this),a&&{passive:!0}),this.scrollEventContainer.addEventListener(\"wheel\",this.onInteract.bind(this),a&&{passive:!0}),this.findSnapTarget()}var c,u,f;return c=i,(u=[{key:\"enable\",value:function(){this.isEnabled=!0}},{key:\"disable\",value:function(){this.isEnabled=!1}},{key:\"on\",value:function(t,n){var i=this.events[t]||[];this.events[t]=e(i).concat([n]),\"activatePanel\"===t&&n.call(this,this.activePanel)}},{key:\"off\",value:function(t,n){var e=this.events[t]||[];this.events[t]=e.filter(function(t){return t!==n})}},{key:\"emit\",value:function(t,n){var e=this;(this.events[t]||[]).forEach(function(t){return t.call(e,n)})}},{key:\"onInteractStart\",value:function(){this.stopAnimation(),this.isInteracting=!0}},{key:\"onInteractStop\",value:function(){this.isInteracting=!1,this.findSnapTarget()}},{key:\"onInteract\",value:function(){this.stopAnimation(),this.onScroll()}},{key:\"onScroll\",value:function(){clearTimeout(this.scrollTimeout),this.isInteracting||this.animation||(this.scrollTimeout=setTimeout(this.findSnapTarget.bind(this),50+this.options.delay))}},{key:\"findSnapTarget\",value:function(){var t=this.scrollContainer.scrollTop-this.currentScrollOffset.top,n=this.scrollContainer.scrollLeft-this.currentScrollOffset.left;this.currentScrollOffset={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft};var e,i,o,s=(e=this.container,i=this.panelList,o=r(e),i.filter(function(t){var n=t.getBoundingClientRect();return n.top<o.bottom&&n.right>o.left&&n.bottom>o.top&&n.left<o.right}));if(0===s.length)throw new Error(\"PanelSnap could not find a snappable panel, aborting.\");if(s.length>1){if(Math.abs(t)<this.options.directionThreshold&&Math.abs(n)<this.options.directionThreshold&&this.activePanel)return void this.snapToPanel(this.activePanel,t>0,n>0);var a=t>0||n>0?1:s.length-2;this.snapToPanel(s[a],t<0,n<0)}else{var l=s[0];!function(t,n){var e=r(t),i=n.getBoundingClientRect();return i.top<=e.top&&i.bottom>=e.bottom&&i.left<=e.left&&i.right>=e.right}(this.container,l)?(console.error(\"PanelSnap does not support space between panels, snapping back.\"),this.snapToPanel(l,t>0,n>0)):this.activatePanel(l)}}},{key:\"snapToPanel\",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.activatePanel(t),this.isEnabled&&(this.animation&&this.animation.stop(),this.targetScrollOffset=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=r(t),a=n.getBoundingClientRect(),l=a.top-o.top,h=a.left-o.left,c=e?a.height-o.height:0,u=i?a.width-o.width:0,f=s(t);return{top:l+c+f.scrollTop,left:h+u+f.scrollLeft}}(this.container,t,e,i),this.animation=new o({start:0,end:1e4,duration:this.options.duration}),this.animation.on(\"tick\",this.animationTick.bind(this)),this.animation.on(\"done\",function(){n.emit(\"snapStop\",t),n.resetAnimation()}),this.emit(\"snapStart\",t),this.animation.begin())}},{key:\"animationTick\",value:function(t){var n=this.targetScrollOffset.top-this.currentScrollOffset.top,e=this.currentScrollOffset.top+n*t/1e4;this.scrollContainer.scrollTop=e;var i=this.targetScrollOffset.left-this.currentScrollOffset.left,o=this.currentScrollOffset.left+i*t/1e4;this.scrollContainer.scrollLeft=o}},{key:\"stopAnimation\",value:function(){this.animation&&(this.animation.stop(),this.resetAnimation())}},{key:\"resetAnimation\",value:function(){this.currentScrollOffset={top:this.scrollContainer.scrollTop,left:this.scrollContainer.scrollLeft},this.targetScrollOffset={top:0,left:0},this.animation=null}},{key:\"activatePanel\",value:function(t){this.activePanel!==t&&(this.emit(\"activatePanel\",t),this.activePanel=t)}}])&&t(c.prototype,u),f&&t(c,f),i}()});\n","module.exports = jQuery;","module.exports = _;","module.exports = Modernizr;"],"sourceRoot":""}